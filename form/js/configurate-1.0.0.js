function openClose(a){$(a.currentTarget).toggleClass("icon-close"),$(a.currentTarget).parent().next().slideToggle()}function stopPropagation(a){a&&a.stopPropagation?a.stopPropagation():window.event.cancelBubble=!0}function GetDateStr(a){var c,d,e,b=new Date;return b.setDate(b.getDate()+a),c=b.getFullYear(),d=b.getMonth()+1,e=b.getDate(),c+"-"+d+"-"+e}function test(){}function getUrlParams(){var b,c,d,a=window.location.search.substr(1);if(""!=a){for(b=a.split("&"),c={},d=0;d<b.length;d++)c[b[d].split("=")[0]]=b[d].split("=")[1];return c}return{}}function popup(a,b){var c;b=b?b:"body",c="body"==b?$('<div class="toast-tips" style="position:fixed;left:47%;top:300px;padding:0 25px;height:48px;line-height: 48px;border-radius:4px;text-align: center;font-size: 14px;color:#fff;background: rgba(0,0,0,0.7);z-index:999">'+a+"</div>"):$('<div class="toast-tips" style="position:absolute;left:50%;top:50%;width:126px;margin:-24px 0 0 -82px;padding:10px 20px;border-radius:4px;text-align: center;font-size: 14px;color:#fff;background: rgba(0,0,0,0.7);z-index:999">'+a+"</div>"),$(b).append(c),setTimeout(function(){$(".toast-tips").remove()},2e3)}function openDialog(a){$("div.dialog."+a).fadeIn()}function closeDialog(){$("div.dialog").fadeOut()}function openCloseLeft(a){$(a.currentTarget).find(".title-icon").toggleClass("icon-close"),$(a.currentTarget).next().slideToggle()}function openAttr(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(stopPropagation(a),!$(a.currentTarget).hasClass("active")){if($(a.currentTarget).hasClass("edit"))return $(a.currentTarget).closest("div.form-area").addClass("active").siblings().removeClass("active"),rightArea.animate({width:"260px"}).siblings().animate({width:0}),areaCurrentAttr=$(a.currentTarget).parent().siblings("span.area-title").text(),rightArea.find("input.text").val(areaCurrentAttr),void 0;active(a),a=$(a.currentTarget),a.parent().is("td")?rightMain.find("input.text").removeProp("required").parent().hide():rightMain.find("input.text").prop("required",!0).parent().show(),a.hasClass("component-input")?(rightInput.animate({width:"260px"}).siblings().animate({width:0}),b=a.find("span.span-text").text(),a=a.find("input"),c=a.prop("id"),d=a.prop("name"),e=a.prop("placeholder"),f=a.prop("readOnly"),g=a.data("url"),h=a.prop("required"),rightInput.find("input.text").val(b),rightInput.find("input.id").val(c),rightInput.find("input.name").val(d),rightInput.find("input.placeholder").val(e),1==f?rightInput.find("div.url-component").show().find("select.url-input").prop("required",!0):rightInput.find("div.url-component").hide().find("select.url-input").removeProp("required"),rightInput.find("input[name=readOnly][value='"+(1==f)+"']").prop("checked",!0),rightInput.find("select.url-input").val(g?g:""),rightInput.find("input[name=required][value='"+(1==h)+"']").prop("checked",!0),inputCurrentAttr={text:b,id:c,name:d,placeholder:e}):a.hasClass("component-select")?(rightSelect.animate({width:"260px"}).siblings().animate({width:0}),b=a.find("span.span-text").text(),a=a.find("select"),c=a.prop("id"),d=a.prop("name"),f=a.prop("readOnly"),h=a.prop("required"),g=a.data("url"),i=a.data("optionType"),j=a.data("optionsUrl"),k=[],rightSelect.find("input.text").val(b),rightSelect.find("input.id").val(c),rightSelect.find("input.name").val(d),rightSelect.find("input[name=readOnly][value='"+(1==f)+"']").prop("checked",!0),1==f?rightSelect.find("div.url-component").show().find("select.url-select").prop("required",!0).val(g):rightSelect.find("div.url-component").hide().find("select.url-select").removeProp("required").val(""),"static"!=i&&i?(rightSelect.find("input[name=optionType][value='load']").prop("checked",!0),rightSelect.find("div.option-edit-component").hide(),rightSelect.find("div.option-url-component").show().find("select.url-options").prop("required",!0).val(j)):(rightSelect.find("input[name=optionType][value='static']").prop("checked",!0),rightSelect.find("div.option-edit-component").show(),rightSelect.find("div.option-url-component").hide().find("select.url-options").removeProp("required"),l=a.find("option"),l.each(function(){var b=$(this).html(),c=$(this).val(),d=$(this).prop("selected")?"selected":"";k.push([b,c,d])}),rightSelect.find("button.button-open-dialog").data("optionJson",k),rightSelect.find("select.url-options").val("")),rightSelect.find("input[name=required][value='"+(1==h)+"']").prop("checked",!0)):a.hasClass("component-multi-select")?(rightMultiSelect.animate({width:"260px"}).siblings().animate({width:0}),b=a.find("span.span-text").text(),a=a.find("select"),d=a.prop("name"),f=a.prop("readOnly"),h=a.prop("required"),g=a.data("url"),i=a.data("optionType"),j=a.data("optionsUrl"),k=[],rightMultiSelect.find("input.text").val(b),rightMultiSelect.find("input.name").val(d),rightMultiSelect.find("input[name=readOnly][value='"+(1==f)+"']").prop("checked",!0),1==f?rightMultiSelect.find("div.url-component").show().find("select.url-select").prop("required",!0).val(g):rightMultiSelect.find("div.url-component").hide().find("select.url-select").removeProp("required").val(""),"static"!=i&&i?(rightMultiSelect.find("input[name=optionType][value='load']").prop("checked",!0),rightMultiSelect.find("div.option-edit-component").hide(),rightMultiSelect.find("div.option-url-component").show().find("select.url-options").prop("required",!0).val(j)):(rightMultiSelect.find("input[name=optionType][value='static']").prop("checked",!0),rightMultiSelect.find("div.option-edit-component").show(),rightMultiSelect.find("div.option-url-component").hide().find("select.url-options").removeProp("required"),l=a.find("option"),l.each(function(){var b=$(this).html(),c=$(this).val(),d=$(this).prop("selected")?"selected":"";k.push([b,c,d])}),rightMultiSelect.find("button.button-open-dialog").data("optionJson",k),rightMultiSelect.find("select.url-options").val("")),rightMultiSelect.find("input[name=required][value='"+(1==h)+"']").prop("checked",!0)):a.hasClass("component-radio")?(rightRadio.animate({width:"260px"}).siblings().animate({width:0}),b=a.find("span.span-text").text(),m=[],n=a.find("div.radio-box"),n.each(function(){var b=$(this).find("label").html(),c=$(this).find("input").val(),d=$(this).find("input").prop("checked")?"selected":"";m.push([b,c,d])}),rightRadio.find("button.button-open-dialog").data("radioJson",m),a=a.find("input").first(),d=a.prop("name"),f=a.prop("readOnly"),g=a.data("url"),h=a.prop("required"),rightRadio.find("input.text").val(b),rightRadio.find("input.name").val(d),1==f?rightRadio.find("div.url-component").show().find("select.url-radio").prop("required",!0):rightRadio.find("div.url-component").hide().find("select.url-radio").removeProp("required"),rightRadio.find("input[name=readOnly][value='"+(1==f)+"']").prop("checked",!0),rightRadio.find("select.url-radio").val(g?g:""),rightRadio.find("input[name=required][value='"+(1==h)+"']").prop("checked",!0)):a.hasClass("component-checkbox")?(rightCheckbox.animate({width:"260px"}).siblings().animate({width:0}),b=a.find("span.span-text").text(),o=[],p=a.find("div.checkbox-box"),p.each(function(){var b=$(this).find("label").html(),c=$(this).find("input").val(),d=$(this).find("input").prop("checked")?"selected":"";o.push([b,c,d])}),rightCheckbox.find("button.button-open-dialog").data("checkboxJson",o),a=a.find("input").first(),d=a.prop("name"),f=a.prop("readOnly"),g=a.data("url"),h=a.prop("required"),rightCheckbox.find("input.text").val(b),rightCheckbox.find("input.name").val(d),1==f?rightCheckbox.find("div.url-component").show().find("select.url-checkbox").prop("required",!0):rightCheckbox.find("div.url-component").hide().find("select.url-checkbox").removeProp("required"),rightCheckbox.find("input[name=readOnly][value='"+(1==f)+"']").prop("checked",!0),rightCheckbox.find("select.url-input").val(g?g:""),rightCheckbox.find("input[name=required][value='"+(1==h)+"']").prop("checked",!0)):a.hasClass("component-textarea")?(rightTextarea.animate({width:"260px"}).siblings().animate({width:0}),b=a.find("span.span-text").text(),a=a.find("textarea"),c=a.prop("id"),d=a.prop("name"),e=a.prop("placeholder"),f=a.prop("readOnly"),h=a.prop("required"),q=a.attr("rows"),r=a.attr("maxlength"),g=a.data("url"),rightTextarea.find("input.text").val(b),rightTextarea.find("input.id").val(c),rightTextarea.find("input.name").val(d),rightTextarea.find("input.placeholder").val(e),rightTextarea.find("input.rows").val(q),rightTextarea.find("input.maxlength").val(r),1==f?rightTextarea.find("div.url-component").show().find("select.url-textarea").prop("required",!0):rightTextarea.find("div.url-component").hide().find("select.url-textarea").removeProp("required"),rightTextarea.find("input[name=readOnly][value='"+(1==f)+"']").prop("checked",!0),rightTextarea.find("select.url-input").val(g?g:""),rightTextarea.find("input[name=required][value='"+(1==h)+"']").prop("checked",!0)):a.hasClass("component-date")?(rightDate.animate({width:"260px"}).siblings().animate({width:0}),b=a.find("span.span-text").text(),a=a.find("input"),d=a.prop("name"),e=a.prop("placeholder"),f=a.prop("readOnly"),h=a.prop("required"),s=JSON.parse(a.attr("onclick").split("(")[1].split(")")[0]),g=a.data("url"),t=a.data("rangeType"),u=a.data("defaultDate"),rightDate.find("input.text").val(b),rightDate.find("input.name").val(d),rightDate.find("input.placeholder").val(e),"default"!=t&&t?(rightDate.find("input[name=dateRange][value='manual']").prop("checked",!0),rightDate.find("div.range-manual-component").show().prev().hide(),rightDate.find("div.range-manual-component").find("input.start-date").val(s.minDate).next().val(s.maxDate)):(rightDate.find("input[name=dateRange][value='default']").prop("checked",!0),rightDate.find("div.range-default-component").show().next().hide(),rightDate.find("div.range-default-component").find("select.defaultDate").val(u)),1==f?rightDate.find("div.url-component").show().find("select.url-date").prop("required",!0):rightDate.find("div.url-component").hide().find("select.url-date").removeProp("required"),rightDate.find("input[name=readOnly][value='"+(1==f)+"']").prop("checked",!0),rightDate.find("select.url-input").val(g?g:""),rightDate.find("input[name=required][value='"+(1==h)+"']").prop("checked",!0)):a.hasClass("component-table")?(rightTable.animate({width:"260px"}).siblings().animate({width:0}),rightTable.find("div.operate-type").hide(),rightTable.find("input[value='false']").prop("checked",!0),a.find(".table-special").each(function(){var a,b;if($(this).hasClass("table-add-row"))rightTable.find("input[name=hasAdd][value='true']").prop("checked",!0);else if($(this).hasClass("table-check"))rightTable.find("input[name=hasCheck][value='true']").prop("checked",!0);else if($(this).hasClass("table-remarks"))rightTable.find("input[name=hasRemarks][value='true']").prop("checked",!0);else if($(this).hasClass("table-operation"))for(rightTable.find("input[name=hasOperate][value='true']").prop("checked",!0),rightTable.find("div.operate-type").show(),rightTable.find("input[name=operate]").removeAttr("checked"),a=$(this).data("operationType"),a||(a=["delete"]),b=0;b<a.length;b++)rightTable.find("input[name=operate][value='"+a[b]+"']").prop("checked",!0)})):a.hasClass("button-submit")?(rightButtonSubmit.animate({width:"260px"}).siblings().animate({width:0}),rightButtonSubmit.find("input.text").val(pageSubmitUrl)):rightMain.find("div.right-component").animate({width:0})}}function active(a){var a=$(a.currentTarget);a.hasClass("active")||(viewMain.find(".active").removeClass("active"),a.addClass("active").closest("div.form-area").addClass("active"),a.hasClass("form-area")&&!a.find("div.active").length&&(rightArea.siblings().animate({width:0}),"none"!=rightArea.attr("display")&&(areaCurrentAttr=a.find("span.area-title").text(),rightArea.find("input.text").val(areaCurrentAttr))))}function saveAttribution(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S;if("area"==a)b=rightArea.find("input.text").val(),viewMain.find("div.form-area.active").find("span.area-title").text(b);else if("input"==a)b=rightInput.find("input.text").val(),c=rightInput.find("input.id").val(),d=rightInput.find("input.name").val(),e=rightInput.find("input.placeholder").val(),f=rightInput.find("select.url-input").val(),g=rightInput.find("input[name=readOnly]:checked").val(),h=rightInput.find("input[name=required]:checked").val(),viewMain.find("div.form-component.active").find("span.span-text").text(b),"true"==h?viewMain.find("div.form-component.active").find("span.span-required").html("*"):viewMain.find("div.form-component.active").find("span.span-required").html(""),i=viewMain.find("div.form-component.active").find("input"),i.prop("id",c),i.prop("name",d),i.prop("placeholder",e),"true"==g?i.prop("readOnly",!0):i.removeProp("readOnly"),"true"==g?i.data("url",f):i.data("url",""),"true"==h?i.prop("required",!0):i.removeProp("required");else if("select"==a){if(b=rightSelect.find("input.text").val(),c=rightSelect.find("input.id").val(),d=rightSelect.find("input.name").val(),f=rightSelect.find("select.url-select").val(),j=rightSelect.find("select.url-options").val(),g=rightSelect.find("input[name=readOnly]:checked").val(),k=rightSelect.find("input[name=optionType]:checked").val(),h=rightSelect.find("input[name=required]:checked").val(),l=viewMain.find("div.form-component.active").find("select"),"static"==k){if(m=rightSelect.find("button.button-open-dialog").data("optionJson"),!m||m.length<=1)return alert("请先编辑选项!"),!1;for(l.html(""),n=0;n<m.length;n++)l.append($("<option value='"+m[n][1]+"'"+m[n][2]+">"+m[n][0]+"</option>"));l.data("optionsUrl",""),l.data("optionType","static")}else l.data("optionsUrl",j),l.data("optionType","load");viewMain.find("div.form-component.active").find("span.span-text").text(b),"true"==h?viewMain.find("div.form-component.active").find("span.span-required").html("*"):viewMain.find("div.form-component.active").find("span.span-required").html(""),l.prop("id",c),l.prop("name",d),"true"==g?l.prop("readOnly",!0):l.removeProp("readOnly"),"true"==g?l.data("url",f):l.data("url",""),"true"==h?l.prop("required",!0):l.removeProp("required")}else if("radio"==a){for(b=rightRadio.find("input.text").val(),d=rightRadio.find("input.name").val(),f=rightRadio.find("select.url-radio").val(),g=rightRadio.find("input[name=readOnly]:checked").val(),h=rightRadio.find("input[name=required]:checked").val(),o=viewMain.find("div.form-component.active"),p=rightRadio.find("button.button-open-dialog").data("radioJson"),n=0;n<p.length;n++)if(!p[n][0]||!p[n][1]||p.length<2)return alert("请先编辑选项!"),!1;for(o.find("span.span-text").text(b),"true"==h?o.find("span.span-required").html("*"):o.find("span.span-required").html(""),o.find("div.radio-box").remove(),n=0;n<p.length;n++)q=p[n][2]?"checked":"",r=$("<input type='radio' name='"+d+"' class='radio' id='"+d+n+"' value='"+p[n][1]+"' disabled required "+q+">"),"true"==g?r.prop("readOnly",!0):r.removeProp("readOnly"),"true"==g?r.data("url",f):r.data("url",""),"true"==h?r.prop("required",!0):r.removeProp("required"),s=$("<label for='"+d+n+"'>"+p[n][0]+"</label>"),t=$("<div class='radio-box'></div>"),t.append(r).append(s),o.append(t)}else if("checkbox"==a){for(b=rightCheckbox.find("input.text").val(),d=rightCheckbox.find("input.name").val(),f=rightCheckbox.find("select.url-checkbox").val(),g=rightCheckbox.find("input[name=readOnly]:checked").val(),h=rightCheckbox.find("input[name=required]:checked").val(),u=viewMain.find("div.form-component.active"),v=rightCheckbox.find("button.button-open-dialog").data("checkboxJson"),n=0;n<v.length;n++)if(!v[n][0]||!v[n][1]||v.length<2)return alert("请先编辑选项!"),!1;for(u.find("span.span-text").text(b),"true"==h?u.find("span.span-required").html("*"):u.find("span.span-required").html(""),u.find("div.checkbox-box").remove(),n=0;n<v.length;n++)q=v[n][2]?"checked":"",w=$("<input type='checkbox' name='"+d+"' class='checkbox' id='"+d+n+"' value='"+v[n][1]+"' disabled required "+q+">"),"true"==g?w.prop("readOnly",!0):w.removeProp("readOnly"),"true"==g?w.data("url",f):w.data("url",""),"true"==h?w.prop("required",!0):w.removeProp("required"),s=$("<label for='"+d+n+"'>"+v[n][0]+"</label>"),x=$("<div class='checkbox-box'></div>"),x.append(w).append(s),u.append(x)}else if("textarea"==a)b=rightTextarea.find("input.text").val(),c=rightTextarea.find("input.id").val(),d=rightTextarea.find("input.name").val(),e=rightTextarea.find("input.placeholder").val(),y=rightTextarea.find("input.rows").val(),z=rightTextarea.find("input.maxlength").val(),f=rightTextarea.find("select.url-textarea").val(),g=rightTextarea.find("input[name=readOnly]:checked").val(),h=rightTextarea.find("input[name=required]:checked").val(),viewMain.find("div.form-component.active").find("span.span-text").text(b),"true"==h?viewMain.find("div.form-component.active").find("span.span-required").html("*"):viewMain.find("div.form-component.active").find("span.span-required").html(""),A=viewMain.find("div.form-component.active").find("textarea"),A.prop("id",c),A.prop("name",d),A.prop("placeholder",e),A.attr("rows",y),A.attr("maxlength",z),"true"==g?A.prop("readOnly",!0):A.removeProp("readOnly"),"true"==g?A.data("url",f):A.data("url",""),"true"==h?A.prop("required",!0):A.removeProp("required");else if("date"==a){if(b=rightDate.find("input.text").val(),d=rightDate.find("input.name").val(),e=rightDate.find("input.placeholder").val(),f=rightDate.find("select.url-date").val(),B=rightDate.find("input[name=dateRange]:checked").val(),g=rightDate.find("input[name=readOnly]:checked").val(),h=rightDate.find("input[name=required]:checked").val(),viewMain.find("div.form-component.active").find("span.span-text").text(b),"true"==h?viewMain.find("div.form-component.active").find("span.span-required").html("*"):viewMain.find("div.form-component.active").find("span.span-required").html(""),C=viewMain.find("div.form-component.active").find("input"),C.prop("name",d),C.prop("placeholder",e),"default"==B)switch(D=rightDate.find("select.defaultDate").val(),C.data("rangeType","default").data("defaultDate",D),D){case"unlimited":break;case"from-tomorrow":C.attr("onclick",'WdatePicker({"readOnly":true,"minDate":"'+GetDateStr(1)+'"})');break;case"as-of-today":C.attr("onclick",'WdatePicker({"readOnly":true,"maxDate":"'+GetDateStr(0)+'"})');break;case"of-one-month":C.attr("onclick",'WdatePicker({"readOnly":true,"minDate":"'+GetDateStr(-30)+'","maxDate":"'+GetDateStr(0)+'"})');break;case"in-one-month":C.attr("onclick",'WdatePicker({"readOnly":true,"minDate":"'+GetDateStr(0)+'","maxDate":"'+GetDateStr(30)+'"})')}else C.data("rangeType","manual"),E=rightDate.find("input.start-date").val(),F=rightDate.find("input.end-date").val(),C.attr("onclick",'WdatePicker({"readOnly":true,"minDate":"'+E+'","maxDate":"'+F+'"})');"true"==g?C.prop("readOnly",!0):C.removeProp("readOnly"),"true"==g?C.data("url",f):C.data("url",""),"true"==h?C.prop("required",!0):C.removeProp("required")}else if("table"==a){if(G=rightTable.find("input[name=hasAdd]:checked").val(),H=rightTable.find("input[name=hasCheck]:checked").val(),I=rightTable.find("input[name=hasRemarks]:checked").val(),J=rightTable.find("input[name=hasOperate]:checked").val(),K=viewMain.find("div.form-component.active").find("table"),L=K.find("tr").last(),L.hasClass("last-empty-tr"))"true"!=G||L.find("td.table-add-row").length?"false"==G&&L.find("td.table-add-row").length&&(K.find("th.th-count").length?K.find("td.table-special.table-add-row").removeClass("table-special table-add-row").empty():L.remove()):L.children().first().addClass("table-special table-add-row").append($("<button type='button' class='add-row'>新增</button>"));else if("true"==G)if(K.find("th.th-count").length)L.children().first().addClass("table-special table-add-row").append($("<button type='button' class='add-row'>新增</button>"));else{for(M=$("<tr class='last-empty-tr'></tr>"),N=L.children().length,n=0;N>n;n++)M.append("<td></td>");M.children().first().addClass("table-special table-add-row").append($("<button type='button' class='add-row'>新增</button>")),K.append(M)}if(L=K.find("tr").last(),"true"!=H||K.find("th.table-check").length?"false"==H&&K.find("th.table-check").length&&("true"==G&&L.children().first().before(L.children().eq(1)),K.find("tr").each(function(){$(this).children().first().remove()})):(K.find("tr").each(function(a){0==a?$(this).children().first().before($("<th class='table-special table-check'><input type='checkbox' class='checkbox check-all'></th>'")):$(this).children().first().before($("<td><input type='checkbox' class='checkbox'></td>'"))}),L.hasClass("last-empty-tr")&&(L.children().first().empty(),"true"==G&&L.children().first().before(L.children().eq(1)))),K.find("th.table-operation").length&&K.find("tr").each(function(){$(this).children().last().remove()}),"true"==J){for(O=[],rightTable.find("input[name=operate]").each(function(){1==$(this).prop("checked")&&O.push($(this).val())}),P=$("<td></td>"),n=0;n<O.length;n++)switch(P.append($("<button type='button' class='"+O[n]+"-row' onclick='"+O[n]+"Row(event)'></button>")),O[n]){case"delete":P.children().eq(n).html("删除");break;case"edit":P.children().eq(n).html("编辑");break;case"save":P.children().eq(n).html("保存")}K.find("tr").each(function(a){0==a?$(this).children().last().after($("<th class='table-special table-operation'>操作</th>").data("operationType",O)):L.hasClass("last-empty-tr")&&a==K.find("tr").length-1?$(this).children().last().after($("<td></td>")):$(this).children().last().after(P.clone())})}"true"!=I||K.find("th.table-remarks").length?"false"==I&&K.find("th.table-remarks").length&&("true"==J?K.find("tr").each(function(){$(this).children().last().prev().remove()}):K.find("tr").each(function(){$(this).children().last().remove()})):"true"==J?K.find("tr").each(function(a){0==a?$(this).children().last().before($("<th class='table-special table-remarks'>备注</th>")):"true"==G&&a==K.find("tr").length-1?$(this).children().last().before($("<td></td>")):$(this).children().last().before("<td><div class='form-component component-input'><input type='text' placeholder='备注' disabled></div></td>")}):K.find("tr").each(function(a){0==a?$(this).children().last().after($("<th class='table-special table-remarks'>备注</th>")):"true"==G&&a==K.find("tr").length-1?$(this).children().last().after($("<td></td>")):$(this).children().last().after("<td><div class='form-component component-input'><input type='text' placeholder='备注' disabled></div></td>")})}else if("column"==a){if(b=rightColumn.find("input.column-text").val(),Q=rightColumn.find("input[name=hasCount]:checked").val(),R=viewMain.find("th.active"),L=R.closest("table").find("tr").last(),R.html(b),L.hasClass("last-empty-tr"))S=L.children().eq(R.index()),S.empty(),"true"==Q?(R.addClass("th-count"),S.html("合计 ").append($("<input class='count risk-process' type='text'>"))):"false"==Q&&(R.hasClass("th-count")&&1==R.closest("table").find("th.th-count").length&&S.parent().remove(),R.removeClass("th-count"));else if("true"==Q){for(R.addClass("th-count"),M=$("<tr class='last-empty-tr'></tr>"),N=L.children().length,n=0;N>n;n++)M.append("<td></td>");L.after(M),S=L.next().children().eq(R.index()),S.empty().html("合计 ").append($("<input class='count risk-process' type='text'>"))}}else"submit"==a&&(pageSubmitUrl=rightButtonSubmit.find("input.text").val(),footerButton.find("button.submit").data("pageSubmitUrl",pageSubmitUrl));return!1}function resetAttribution(a){"area"==a&&rightArea.find("input.text").val(areaCurrentAttr),"input"==a&&(rightInput.find("input.text").val(inputCurrentAttr.text),rightInput.find("input.id").val(inputCurrentAttr.id),rightInput.find("input.name").val(inputCurrentAttr.name),rightInput.find("input.placeholder").val(inputCurrentAttr.placeholder))}function deleteAttribution(){confirm("确认删除该组件吗?")&&viewMain.find("div.form-component.active").remove()}function deleteArea(a){confirm("确认删除该区域吗?")&&$(a.currentTarget).parent().parent().parent().remove()}function clearArea(a){confirm("确认清空该区域吗?")&&$(a.currentTarget).parent().parent().siblings("div.form-area-main").empty()}function editColumn(a){var b;stopPropagation(a),rightColumn.animate({width:"260px"}).siblings().animate({width:0}),a=$(a.currentTarget?a.currentTarget:a.target),a.hasClass("active")||(viewMain.find(".active").removeClass("active"),a.addClass("active").closest("div.form-area").addClass("active"),b=a.text(),rightColumn.find("input.column-text").val(b),rightColumn.find("input[name=hasCount][value='"+a.hasClass("th-count")+"']").prop("checked",!0))}function addColumn(){var a=viewMain.find("div.form-component.active").find("table").length?viewMain.find("div.form-component.active").find("table"):viewMain.find("th.active").closest("table"),b=a.find("tr").first().children(":not(th.table-remarks,th.table-operation)").length-1;a.find("tr").each(function(c){0==c?$(this).children().eq(b).after(componentsDialog.find("th.th-default").clone().click()):a.find("td.table-add-row").length&&c==a.find("tr").length-1?$(this).children().eq(b).after($("<td></td>")):$(this).children().eq(b).after(componentsDialog.find("td.td-default").clone())})}function deletColumn(){var a,b;return viewMain.find("th.active").closest("table").find("tr").first().children(":not(th.table-check,th.table-remarks,th.table-operation)").length<3?(alert("至少要有两个列!"),void 0):(confirm("确认删除该列吗?")&&(a=viewMain.find("th.active").index(),b=viewMain.find("th.active").closest("table"),viewMain.find("th.active").next().click(),b.find("tr").each(function(){$(this).children().eq(a).remove()})),void 0)}function deleteRow(){}function editRow(){}function saveRow(){}function complete(){viewMainClone=viewMain.clone(),viewMainClone.find("div.active").removeClass("active"),viewMainClone.find("div.form-component").removeClass("input").removeClass("select").removeAttr("draggable").removeAttr("ondrop").removeAttr("ondragover").removeAttr("ondragstart"),viewMainClone.find("div.area-tool").remove(),viewMainClone.find("div.form-area").off("click"),viewMainClone.find("div.form-component").off("click"),console.log(viewMainClone.html()),$.ajax({url:"http://enterprise-bpic-test.estar-info.com/templates/templates_doEdit.do?method=edit",type:"POST",data:{html:viewMainClone.html(),insuranceCode:"digital",flowCode:"baoan",param:viewMain.html()},success:function(){}})}function dragStart(a,b,c,d){var e,f;stopPropagation(a),"move"==c&&("component"==d&&(dragDom=$(b),a.dataTransfer.setData("text","component")),"area"==d&&(dragDom=$(b).parent(),a.dataTransfer.setData("text","area")),"th"==d&&(dragDom=$(b),a.dataTransfer.setData("text",dragDom.index()))),"insert"==c&&("component"==d&&(e=$(b).attr("data-component"),dragDom=componentsDialog.find("div."+e).first().clone(),dragDom.on("click",openAttr),a.dataTransfer.setData("text","component"),dragDom.addClass("for-the-demonstration")),"area"==d&&(f=$(b).attr("data-template"),dragDom=dialogMain.find("div."+f).clone(),dragDom.find("div.form-component").on("click",openAttr),a.dataTransfer.setData("text","area"),dragDom.find("div.form-component").addClass("for-the-demonstration")))}function dragOver(a){a.preventDefault()}function drop(a,b,c,d){var e,f;if(stopPropagation(a),a.preventDefault(),dragDom.get(0)!=b){if(e=a.dataTransfer.getData("text"),"component"==d&&"component"==e)$(b).before(dragDom);else if("component"==d&&"area"==e)$(b).parent().parent().after(dragDom);else if("area-main"==d&&"area"==e)$(b).parent().after(dragDom);else if("area"==d&&"area"==e&&dragDom[0]!=$(b).parent()[0])$(b).parent().before(dragDom);else if("area"==d&&"component"==e)$(b).next().append(dragDom);else if("area-main"==d&&"component"==e)$(b).append(dragDom);else if("view-main"==d&&"area"==e)footerButton.before(dragDom);else if("th"==d&&"area"!=e&&"component"!=e&&dragDom.closest("table").get(0)==$(b).closest("table").get(0))f=$(b).index(),$(b).closest("table").find("tr").each(function(){$(this).children().eq(f).before($(this).children().eq(e))});else{if("td"!=d||"component"!=e||dragDom.hasClass("component-table")||dragDom.hasClass("component-textarea"))return;dragDom.removeAttr("draggable").removeAttr("ondrop").removeAttr("ondragover").removeAttr("ondragstart"),dragDom.children("div.input-title").remove(),$(b).html(dragDom)}dragDom.click()}}function openOptionDialog(a,b){var c,d;if(openDialog(b),optionJson=$(a.currentTarget).data("optionJson"),optionJson.length>1){for(dialogSelectEdit.find("div.container.active").html(""),c=0;c<optionJson.length;c++)d=componentsDialog.find("div.component-option").clone(),optionTitle=d.find("div.option-title"),optionTitle.html(optionJson[c][0]),optionTitle.data("value",optionJson[c][1]),"selected"==optionJson[c][2]?optionTitle.data("selected","selected"):optionTitle.data("selected",""),"selected"==optionJson[c][2]?optionTitle.next().addClass("option-selected-default"):!1,dialogSelectEdit.find("div.container.active").append(d);dialogSelectEdit.find("div.option").first().click()}else dialogSelectEdit.find("div.container.active").html(optionContainer.html()),dialogSelectEdit.find("div.option").first().click().find("div.option-selected").click()}function editOption(a){var b=$(a.currentTarget?a.currentTarget:a.target);b.hasClass("active")||(activeOption(a),optionTitle=b.find("div.option-title"),label=optionTitle.html(),labelInp.val(label),"-- 请选择 --"==label?valueInp.parent().hide().prev().find("input").prop("disabled",!0):valueInp.parent().show().prev().find("input").removeProp("disabled"),labelInp.focus(),value=optionTitle.data("value"),valueInp.val(value?value:"-- 请选择 --"==label?"":label))}function activeOption(a){var b=$(a.currentTarget?a.currentTarget:a.target);b.addClass("active").siblings().removeClass("active").find("div.active").removeClass("active")}function deleteOption(a){stopPropagation(a);var a=$(a.currentTarget);return a.parent().siblings().length<2?(alert("至少要有两个选项!"),void 0):(a.parent().next().length?a.parent().next().click():a.parent().prev().click(),a.parent().remove(),void 0)}function addOption(){var a=componentsDialog.find("div.component-option").clone();dialogSelectEdit.find("div.container.active").append(a),a.click()}function saveOption(){return label=labelInp.val(),value=valueInp.val(),optionTitle.html(label),optionTitle.data("value",value?value:"-- 请选择 --"==label?"":label),!1}function selectedOption(a){stopPropagation(a);var a=$(a.currentTarget?a.currentTarget:a.target);a.addClass("option-selected-default").parent().siblings().find("div.option-selected").removeClass("option-selected-default"),a.prev().data("selected","selected").parent().siblings().find("div.option-title").data("selected","")}function completeOptions(){var a=!0;if(dialogSelectEdit.find("div.option").each(function(b){return label=$(this).find("div.option-title").html(),value=$(this).find("div.option-title").data("value"),selected=$(this).find("div.option-title").data("selected"),selected=selected?selected:"",value=value?value:"-- 请选择 --"==label?"":label,label?(optionJson[b]=[label,value,selected],void 0):($(this).click(),saveOptionBtn.click(),a=!1,!1)}),a){if(optionJson.length<2)return alert("至少要有两个选项!"),void 0;rightSelect.find("button.button-open-dialog").data("optionJson",optionJson),closeDialog()}}function initDialog(a){switch(a){case"dialog-select-edit":dragula([document.getElementById("option-container")]),dialogSelectEdit.find("div.option").first().click()}}function openRadioDialog(a,b){var c,d;if(openDialog(b),radioJson=$(a.currentTarget).data("radioJson"),radioJson.length>1){for(dialogRadioEdit.find("div.container.active").html(""),c=0;c<radioJson.length;c++)d=componentsDialog.find("div.component-radio-default").clone(),radioTitle=d.find("div.option-title"),radioTitle.html(radioJson[c][0]),radioTitle.data("value",radioJson[c][1]),"selected"==radioJson[c][2]?radioTitle.data("selected","selected"):radioTitle.data("selected",""),"selected"==radioJson[c][2]?radioTitle.next().addClass("option-selected-default"):!1,dialogRadioEdit.find("div.container.active").append(d);dialogRadioEdit.find("div.option").first().click()}else dialogRadioEdit.find("div.container.active").html(radioContainer.html()),dialogRadioEdit.find("div.option").first().click().find("div.option-selected").click()
}function editRadio(a){var b=$(a.currentTarget?a.currentTarget:a.target);b.hasClass("active")||(activeRadio(a),radioTitle=b.find("div.option-title"),labelRadio=radioTitle.html(),labelInpRadio.val(labelRadio),labelInpRadio.focus(),valueRadio=radioTitle.data("value"),valueInpRadio.val(valueRadio))}function activeRadio(a){var b=$(a.currentTarget?a.currentTarget:a.target);b.addClass("active").siblings().removeClass("active").find("div.active").removeClass("active")}function deleteRadio(a){stopPropagation(a);var a=$(a.currentTarget);return a.parent().siblings().length<2?(alert("至少要有两个选项!"),void 0):(a.parent().next().length?a.parent().next().click():a.parent().prev().click(),a.parent().remove(),void 0)}function addRadio(){var a=componentsDialog.find("div.component-radio-default").clone();dialogRadioEdit.find("div.container.active").append(a),a.click()}function saveRadio(){return labelRadio=labelInpRadio.val(),valueRadio=valueInpRadio.val(),radioTitle.html(labelRadio),radioTitle.data("value",valueRadio),!1}function selectRadio(a){stopPropagation(a);var a=$(a.currentTarget?a.currentTarget:a.target);a.addClass("option-selected-default").parent().siblings().find("div.option-selected").removeClass("option-selected-default"),a.prev().data("selected","selected").parent().siblings().find("div.option-title").data("selected","")}function completeRadio(){var a=!0;if(radioJson=[],dialogRadioEdit.find("div.option").each(function(b){return labelRadio=$(this).find("div.option-title").html(),valueRadio=$(this).find("div.option-title").data("value"),selectedRadio=$(this).find("div.option-title").data("selected"),selectedRadio=selectedRadio?selectedRadio:"",labelRadio&&valueRadio?(radioJson[b]=[labelRadio,valueRadio,selectedRadio],void 0):($(this).click(),saveRadioBtn.click(),a=!1,!1)}),a){if(radioJson.length<2)return alert("至少要有两个选项!"),void 0;rightRadio.find("button.button-open-dialog").data("radioJson",radioJson),closeDialog()}}function changeSelectNum(){num=numSelect.val();var a=dialogMultiSelectEdit.find("div.container:visible").length;num>a&&dialogMultiSelectEdit.parent().animate({width:810+257*(num-2)+"px"},function(){dialogMultiSelectEdit.find("div.one-select").each(function(a){num>a&&$(this).show()}),changeOptions(dialogMultiSelectEdit.find("div.container.active").children("div.option.active").parent().parent(),dialogMultiSelectEdit.find("div.container.active").children("div.option.active").prop("id"))}),a>num&&(dialogMultiSelectEdit.find("div.one-select").each(function(a){a+1>num&&$(this).hide()}),dialogMultiSelectEdit.parent().animate({width:810+257*(num-2)+"px"}))}function openMultiDialog(a,b){var c,d;if(openDialog(b),multiJson=$(a.currentTarget).data("multiJson"),multiJson.length>1){for(dialogMultiSelectEdit.find("div.container.active").html(""),c=0;c<multiJson.length;c++)d=componentsDialog.find("div.component-option").clone(),multiTitle=d.find("div.option-title"),multiTitle.html(multiJson[c][0]),multiTitle.data("value",multiJson[c][1]),"selected"==multiJson[c][2]?multiTitle.data("selected","selected"):multiTitle.data("selected",""),"selected"==multiJson[c][2]?multiTitle.next().addClass("option-selected-default"):!1,dialogMultiSelectEdit.find("div.container.active").append(d);dialogMultiSelectEdit.find("div.option").first().click()}else dialogMultiSelectEdit.find("div.container.active").html(optionContainer.html()),dialogMultiSelectEdit.find("div.option").first().click().find("div.option-selected").click()}function editMulti(a){var b=$(a.currentTarget?a.currentTarget:a.target);b.hasClass("active")&&b.parent().hasClass("active")||(changeOptions(b.parent().parent(),b.prop("id")),activeMulti(a),multiTitle=b.find("div.option-title"),labelMulti=multiTitle.html(),labelInpMulti.val(labelMulti),"-- 请选择 --"==labelMulti?valueInpMulti.parent().hide().prev().find("input").prop("disabled",!0):valueInpMulti.parent().show().prev().find("input").removeProp("disabled"),labelInpMulti.focus(),valueMulti=multiTitle.data("value"),valueInpMulti.val(valueMulti?valueMulti:"-- 请选择 --"==labelMulti?"":labelMulti))}function activeMulti(a){var b=$(a.currentTarget?a.currentTarget:a.target);b.addClass("active").siblings().removeClass("active").parent().addClass("active").parent().siblings().find("div.container.active").removeClass("active")}function activeContainer(a){$(a.currentTarget?a.currentTarget:a.target)}function changeOptions(a,b){return b.indexOf("order-0")?(a.next().find(".container").children().removeClass("active").hide().parent().find("div.option[id*='"+b+"']").show().first().addClass("active"),a.next().length&&"block"==a.next().css("display")&&changeOptions(a.next(),b+"-1"),void 0):(a.nextAll().find(".container").children().removeClass("active").hide().parent().find("div.option[id*='order-0']").show().addClass("active"),void 0)}function deleteMulti(a){stopPropagation(a);var a=$(a.currentTarget);return a.parent().siblings().length<2?(alert("至少要有两个选项!"),void 0):(a.parent().next().length?a.parent().next().click():a.parent().prev().click(),a.parent().remove(),void 0)}function addMulti(){var a=componentsDialog.find("div.component-option").clone();dialogMultiSelectEdit.find("div.container.active").append(a),a.attr("onclick","editMulti(event)").click()}function saveMulti(){return labelMulti=labelInpMulti.val(),valueMulti=valueInpMulti.val(),multiTitle.html(labelMulti),multiTitle.data("value",valueMulti?valueMulti:"-- 请选择 --"==labelMulti?"":labelMulti),!1}function selectedMulti(a){stopPropagation(a);var a=$(a.currentTarget?a.currentTarget:a.target);a.addClass("option-selected-default").parent().siblings().find("div.option-selected").removeClass("option-selected-default"),a.prev().data("selected","selected").parent().siblings().find("div.option-title").data("selected","")}function completeMultis(){var a=!0;if(dialogMultiSelectEdit.find("div.option").each(function(b){return labelMulti=$(this).find("div.option-title").html(),valueMulti=$(this).find("div.option-title").data("value"),selectedMulti=$(this).find("div.option-title").data("selected"),selectedMulti=selectedMulti?selectedMulti:"",valueMulti=valueMulti?valueMulti:"-- 请选择 --"==labelMulti?"":labelMulti,labelMulti?(multiJson[b]=[labelMulti,valueMulti,selectedMulti],void 0):($(this).click(),saveMultiBtn.click(),a=!1,!1)}),a){if(multiJson.length<2)return alert("至少要有两个选项!"),void 0;rightSelect.find("button.button-open-dialog").data("multiJson",multiJson),closeDialog()}}function openCheckboxDialog(a,b){var c,d;if(openDialog(b),checkboxJson=$(a.currentTarget).data("checkboxJson"),checkboxJson.length>1){for(dialogCheckboxEdit.find("div.container.active").html(""),c=0;c<checkboxJson.length;c++)d=componentsDialog.find("div.component-checkbox-default").clone(),checkboxTitle=d.find("div.option-title"),checkboxTitle.html(checkboxJson[c][0]),checkboxTitle.data("value",checkboxJson[c][1]),"selected"==checkboxJson[c][2]?checkboxTitle.data("selected","selected"):checkboxTitle.data("selected",""),"selected"==checkboxJson[c][2]?checkboxTitle.next().addClass("option-selected-default"):!1,dialogCheckboxEdit.find("div.container.active").append(d);dialogCheckboxEdit.find("div.option").first().click()}else dialogCheckboxEdit.find("div.container.active").html(checkboxContainer.html()),dialogCheckboxEdit.find("div.option").first().click().find("div.option-selected").click()}function editCheckbox(a){var b=$(a.currentTarget?a.currentTarget:a.target);b.hasClass("active")||(activeCheckbox(a),checkboxTitle=b.find("div.option-title"),labelCheckbox=checkboxTitle.html(),labelInpCheckbox.val(labelCheckbox),labelInpCheckbox.focus(),valueCheckbox=checkboxTitle.data("value"),valueInpCheckbox.val(valueCheckbox))}function activeCheckbox(a){var b=$(a.currentTarget?a.currentTarget:a.target);b.addClass("active").siblings().removeClass("active").find("div.active").removeClass("active")}function deleteCheckbox(a){stopPropagation(a);var a=$(a.currentTarget);return a.parent().siblings().length<2?(alert("至少要有两个选项!"),void 0):(a.parent().next().length?a.parent().next().click():a.parent().prev().click(),a.parent().remove(),void 0)}function addCheckbox(){var a=componentsDialog.find("div.component-checkbox-default").clone();dialogCheckboxEdit.find("div.container.active").append(a),a.click()}function saveCheckbox(){return labelCheckbox=labelInpCheckbox.val(),valueCheckbox=valueInpCheckbox.val(),checkboxTitle.html(labelCheckbox),checkboxTitle.data("value",valueCheckbox),!1}function selectCheckbox(a){stopPropagation(a);var a=$(a.currentTarget?a.currentTarget:a.target);return a.toggleClass("option-selected-default"),a.hasClass("option-selected-default")?(a.prev().data("selected","selected"),void 0):(a.prev().data("selected",""),void 0)}function completeCheckbox(){var a=!0;if(checkboxJson=[],dialogCheckboxEdit.find("div.option").each(function(b){return labelCheckbox=$(this).find("div.option-title").html(),valueCheckbox=$(this).find("div.option-title").data("value"),selectedCheckbox=$(this).find("div.option-title").data("selected"),selectedCheckbox=selectedCheckbox?selectedCheckbox:"",labelCheckbox&&valueCheckbox?(checkboxJson[b]=[labelCheckbox,valueCheckbox,selectedCheckbox],void 0):($(this).click(),saveCheckboxBtn.click(),a=!1,!1)}),a){if(checkboxJson.length<2)return alert("至少要有两个选项!"),void 0;rightCheckbox.find("button.button-open-dialog").data("checkboxJson",checkboxJson),closeDialog()}}var dragDom,dialogSelectEdit,valueInp,labelInp,saveOptionBtn,optionContainer,optionTitle,label,value,selected,optionJson,dialogRadioEdit,valueInpRadio,labelInpRadio,saveRadioBtn,radioContainer,radioTitle,labelRadio,valueRadio,selectedRadio,radioJson,dialogMultiSelectEdit,valueInpMulti,labelInpMulti,optionEditContainer,saveMultiBtn,oneSelect,numSelect,multiTitle,labelMulti,valueMulti,selectedMulti,multiJson,multiDefaultJson,num,dialogCheckboxEdit,valueInpCheckbox,labelInpCheckbox,saveCheckboxBtn,checkboxContainer,checkboxTitle,labelCheckbox,valueCheckbox,selectedCheckbox,checkboxJson,viewMain=$("div#view-main"),footerButton=viewMain.find("div.footer-button"),templatesDialog=$("div.dialog-templates"),dialogMain=templatesDialog.find("div.dialog-main"),rightMain=$("div.right-main"),rightArea=rightMain.find("div.right-area"),rightInput=rightMain.find("div.right-input"),rightSelect=rightMain.find("div.right-select"),rightMultiSelect=rightMain.find("div.right-multi-select"),rightRadio=rightMain.find("div.right-radio"),rightCheckbox=rightMain.find("div.right-checkbox"),rightTextarea=rightMain.find("div.right-textarea"),rightDate=rightMain.find("div.right-date"),rightTable=rightMain.find("div.right-table"),rightColumn=rightMain.find("div.right-column"),rightButtonSubmit=rightMain.find("div.right-button-submit"),componentsDialog=$("div.dialog-components"),viewMainClone=null,pageSubmitUrl="",areaCurrentAttr="",inputCurrentAttr={};$(function(){var a=1;a?(viewMain.find("div.form-area-head").append("<div class='area-tool'><button class='edit' onclick='openAttr(event)'>编辑区域标题</button><button class='clear' onclick='clearArea(event)'>清空</button><button class='delete' onclick='deleteArea(event)'>删除</button></div>"),viewMain.find("div.form-component").on("click",openAttr).first().click()):(footerButton.find("div.form-component.button-submit").on("click",openAttr).click().siblings().on("click",openAttr),rightButtonSubmit.find("input.text").focus())}),dragDom=null,dialogSelectEdit=$("div.dialog-select-edit").find("div.dialog-main"),valueInp=dialogSelectEdit.find("input.value"),labelInp=dialogSelectEdit.find("input.label"),saveOptionBtn=dialogSelectEdit.find("div.option-edit").find("button.save"),optionContainer=componentsDialog.find("div.component-option-container").clone(),optionTitle=null,label="",value="",selected="",optionJson=[],$(function(){dragula([document.getElementById("option-container")]),dialogSelectEdit.find("div.option").first().click()}),dialogRadioEdit=$("div.dialog-radio-edit").find("div.dialog-main"),valueInpRadio=dialogRadioEdit.find("input.value"),labelInpRadio=dialogRadioEdit.find("input.label"),saveRadioBtn=dialogRadioEdit.find("div.option-edit").find("button.save"),radioContainer=componentsDialog.find("div.component-radio-container").clone(),radioTitle=null,labelRadio="",valueRadio="",selectedRadio="",radioJson=[],$(function(){dragula([document.getElementById("radio-container")]),dialogRadioEdit.find("div.option").first().click()}),dialogMultiSelectEdit=$("div.dialog-multi-select-edit").find("div.dialog-main"),valueInpMulti=dialogMultiSelectEdit.find("input.value"),labelInpMulti=dialogMultiSelectEdit.find("input.label"),optionEditContainer=dialogMultiSelectEdit.find("div.option-edit"),saveMultiBtn=dialogMultiSelectEdit.find("div.option-edit").find("button.save"),oneSelect=componentsDialog.find("div.one-select").clone(),numSelect=dialogMultiSelectEdit.find("select.select-num"),multiTitle=null,labelMulti="",valueMulti="",selectedMulti="",multiJson=[],multiDefaultJson=[{label:"-- 请选择 --",value:"",children:[{label:"-- 请选择 --",value:"",children:[]}]},{label:"1",value:"1",children:[{label:"11",value:"11",children:[]},{label:"12",value:"12",children:[]}]}],num=2,$(function(){dragula([document.getElementById("option-container1")]),dragula([document.getElementById("option-container2")]),dragula([document.getElementById("option-container3")]),dragula([document.getElementById("option-container4")]),dragula([document.getElementById("option-container5")]),dialogMultiSelectEdit.find("div.option").first().click()}),dialogCheckboxEdit=$("div.dialog-checkbox-edit").find("div.dialog-main"),valueInpCheckbox=dialogCheckboxEdit.find("input.value"),labelInpCheckbox=dialogCheckboxEdit.find("input.label"),saveCheckboxBtn=dialogCheckboxEdit.find("div.option-edit").find("button.save"),checkboxContainer=componentsDialog.find("div.component-checkbox-container").clone(),checkboxTitle=null,labelCheckbox="",valueCheckbox="",selectedCheckbox="",checkboxJson=[],$(function(){dragula([document.getElementById("checkbox-container")]),dialogCheckboxEdit.find("div.option").first().click()});